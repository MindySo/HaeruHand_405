<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>로그인 완료</title>
</head>
<body>
<h1>로그인 성공!</h1>
<div id="user-info"></div>

<script>
  function maskToken(token, showFront = 5, showEnd = 4) {
    if (!token || token.length <= showFront + showEnd) return token;
    return token.slice(0, showFront) + '...' + token.slice(-showEnd);
  }

  const user = JSON.parse(sessionStorage.getItem('userInfo'));
  const accessToken = sessionStorage.getItem('accessToken');
  const refreshToken = sessionStorage.getItem('refreshToken');
  const accessExpires = sessionStorage.getItem('accessTokenExpiresIn');

  const maskedAccess = maskToken(accessToken);
  const maskedRefresh = maskToken(refreshToken);

  document.getElementById('user-info').innerHTML = `
        <p>환영합니다, ${user.nickname}님!</p>
        <p>AccessToken: ${maskedAccess}</p>
        <p>RefreshToken: ${maskedRefresh}</p>
        <p>만료까지: ${accessExpires}ms</p>
        `;
</script>
</body>
</html>

